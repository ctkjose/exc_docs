**EXC** | DEV | [Documentation](./doc_index.md) | Version 1.0<BR>

# Events #
*This topic applies to the BackEnd framework.*

EXC uses events to decouple the logic of an application. The execution of your application is in essence your code responding to events (also called messages).

Events are broadcasted by **event emitters** like the [appController](./doc_server_controllers.md). The `appController` is the main controller responsible for the life-cycle of your application and in EXC most events are generated by the `appController`.

Handling events is done mainly by [controllers](./doc_server_controllers.md). The main job of a controller is to responde to **events**. An event may be an **action** from your front-end or you may get a **message** from the framework itself. See "[Adding your own controllers](./doc_server_controllers.md)" to learn more about creating your own controllers.


# Registering a handler for an event or message #

In a controller an event handler is a function, who's name follows a simple naming convention (an event handler signature). A function name that starts with "on" , for example `onAppStart` is considered a handler for the event `"AppStart"`.
```php
<?php
class recordController extends \exc\controller\viewController {
	public function onAppStart(){
		//my code here...
	}
}
```

or you can also register a callback manually.
```php
<?php
$app = \exc\controller\appController::instance(); //get an instance of the app controller

$app->on( 'appStart', $callback ); //register for the event appStart
```

# Backend Events #

The following is a list of events broadcasted by the `appController`.

| Event | Description |
| -- | -- |
| appInit | A request with your application is about to start. Initialize things required for your app to run. Arguments: None. |
| appStart | An application instance must be created. Here you build a landing page. No application state is currently running or the session expired. Arguments: $app. |
| requestStart | The backend is going to handle a request. Arguments: None. |
| requestEnd | The backend finished a request and the app instance will be terminated. Arguments: None. |
| requestAbort | The backend is aborting a request and the app instance will be terminated. Arguments: None. |
| appClientReady | The `$client` was initialized and is ready for interactions. Arguments: ``$client`. |
| appClientCommit | The backend is about to send any `$client` interactions and the app's state to the front-end. Arguments: None. |
| appSendHeaders | The backend is sending the HTTP headers. Arguments: None. |
| appSendOutput | The backend is about to send output to the front-end. Usually HTML. Arguments: None. |
| appSendJSON | The backend is sending a JSON payload. Arguments: None. |
| appSendJS | The backend is sending a JS payload. Arguments: None. |
| appUIAvailable | The UI functionality is available.  Arguments: None. |
| viewCommit | About to send the default view to the output buffer. Arguments: `$view`. |
| sessionInit | A new session store was created. Arguments: None. |
| appControllerLoad | A new application controller was added. Arguments: $controllerObject |
