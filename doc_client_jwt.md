**EXC** | DEV | [Documentation](./doc_index.md) | Version 1.0<BR>

# JWT #
*This topic applies to the Front-End and Back-End framework.*

A JSON Web Token (JWT) is an open standard (RFC 7519) for the exchange of JSON data.

The principal part of JWT is that it computes a "signature" using a **shared secret** to assert that this data was generated by **me**, and you know it comes from me, because you gave me a **shared secret**. In the other side the receiving end can validate the data to see if it was signed with our **shared secret**. This is called validating a "claim".

To learn more we suggest to check [this](https://medium.com/vandium-software/5-easy-steps-to-understanding-json-web-tokens-jwt-1164c0adfcec) and [this](https://jwt.io/introduction/).

It is important to understand that JWT is not used to encrypt data (people can get the data out of a JWT), the only thing JWT can do is to prove that the data was signed with the expected **shared secret**, and as such it was created by an authentic source (somebody who knows the **shared secret**).

The signature in JWT is an HMAC **hash** using a symmetric key algorithm (HS256) of the **encoded** headers and payload.


# Creating a JWT Token #

```js

var aSecretKey = "MySecretKey";

var headerObject = {
	"alg": "HS256",
	"typ": "JWT"
};
var payloadData = {
	"sub": "1234567890",
	"name": "John Doe",
	"admin": true
};
var results = exc.crypto.jwt.create(headerObject, payloadData, aSecretKey);
var token = results.jwt;

console.log("The token is %s", token);
```

```PHP
<?php
$aSecretKey = "MySecretKey";
$payload = ["sub"=>"1234567890", "name"=>"John Doe", "admin"=>true];
$header = ["alg"=>"HS256", "typ"=>"JWT"];

$results = \exc\crypto\jwt::create($header, $payload, $aSecretKey);
$token = $results["jwt"];
```

# Parsing a JWT Token #

```js
var token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEyMzQ1IiwibmFtZSI6IkpvZSBEb2UiLCJrIjoiVEVTVCJ9.O9bvjKJDrT8S-nZZyvd6KrmC5lyC0kabwAiNh6qzHq8";
var results = exc.crypto.jwt.parse(token);

console.log("The signature: %s", results.sig);
console.log("The header: %o", results.header);
console.log("The payload: %o", results.payload);
```

```php
<?php

$results = \exc\crypto\jwt::parse($token);
```
